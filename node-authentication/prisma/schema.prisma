datasource db {
    provider = "postgresql"
    url      = env("POSTGRES_URL")
}

generator client {
    provider = "prisma-client-js"
}

model User {
    id       String    @id @default(uuid())
    name     String
    username String    @unique
    email    String    @unique
    avatar   String
    diamonds Diamond[]

    @@map("users")
}

model DiamondCategory {
    id      String    @id @default(uuid())
    name    String    @unique
    price   Int
    amount  Int
    Diamond Diamond[]

    @@map("diamond_categories")
}

model Diamond {
    id                String          @id @default(uuid())
    userId            String?
    user              User?           @relation(fields: [userId], references: [id])
    diamondCategory   DiamondCategory @relation(fields: [diamondCategoryId], references: [id])
    diamondCategoryId String

    @@map("diamonds")
}
